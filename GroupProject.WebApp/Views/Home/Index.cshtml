@using GroupProject.Entities.Domain_Models
@model GroupProject.WebApp.Models.HomeViewModel.IndexViewModel
<!-- loader Start -->
<div id="loading">
    <div id="loading-center">
    </div>
</div>
<!-- loader END -->
<!-- Slider Start -->

@Html.Partial("~/Views/Home/IndexPartials/Slider.cshtml")

<!-- Slider End -->
<!-- MainContent -->

@Html.Partial("~/Views/Home/IndexPartials/Latest.cshtml")

@Html.Partial("~/Views/Home/IndexPartials/Upcoming.cshtml")

@Html.Partial("~/Views/Home/IndexPartials/TopFive.cshtml")


@Html.Partial("~/Views/Home/IndexPartials/Suggested.cshtml")

@Html.Partial("~/Views/Home/IndexPartials/Parallax.cshtml")

@Html.Partial("~/Views/Home/IndexPartials/Trending.cshtml")

@Html.Partial("~/Views/Home/IndexPartials/DevelopedBy.cshtml")

<!--Details View Modal -->
<div class="modal fade" id="detailsModal" tabindex="-1" role="dialog" aria-labelledby="detailsModalTitle" aria-hidden="true">
    <div class="modal-dialog modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="detailsModalTitle"><i class="fa fa-info-circle"></i> More Info</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span class="text-primary" aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <!--Photo Or Video-->
                <div id="videoSection">

                </div>
                <!--Photo Or Video Section End-->
                <!--Main Content-->
                <div id="MainModalContent">

                </div>
                <!--Main Content End-->
                <!--More Like This-->
                <h5 class="mt-5">More Like this:</h5>
                <div class="tab-content">
                    <div class="tab-pane fade active show" role="tabpanel">
                        <div class="block-space">
                            <div id="MoreLikeThis" class="row">

                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--More Like This-->
        </div>
        <div class="modal-footer mt-5">
            <button type="button" class="btn btn-outline-secondary" data-dismiss="modal">Close</button>
        </div>
    </div>
</div>



<!-- MainContent End-->

@section scripts{


    <script src="~/Scripts/jsFrontend/DetailsModalScript.js"></script>


    <script>




            ////Toggle Modal
            //jQuery(".detailsView").click(function(e) {
            //    e.preventDefault();
            //    $("#detailsModal").modal('toggle');
            //    FindGame($(this).data('id'));
            //});

            ////Find Game
            //function FindGame(id) {
            //    let url = "https://localhost:44384/api/games/?";
            //    $.ajax({
            //        type: "Get",
            //        url: url,
            //        data: { "id": id },
            //        dataType: "json",
            //        success: function(response) {
            //            ModalBodyTemplating(response);
            //        }
            //    });
            //}

            //function ModalBodyTemplating(game) {

            //    //photo or video template
            //    let videoTemplate = `
            //                               <div class="iq-card iq-card-block iq-card-stretch iq-card-height iq-mb-3">
            //                                               <div id="video">
            //                                                   <video id="bgvid"autoplay loop muted playsinline>
            //                                                       <source src="/Content/video/Zombie-Trailer-mini.mp4" type="video/mp4"/>
            //                                                   </video>
            //                                               </div>
            //                                               <div class="iq-card-body">
            //                                     <h1 class="slider-text big-title title text-uppercase" data-animation-in="fadeInLeft"
            //                                            data-delay-in="0.6">
            //                                          ${game.Title}
            //                                   </h1>
            //                                </div>
            //                              </div>
            //                             `;
            //    let videoEle = $(videoTemplate);
            //    $("#videoSection").html(videoEle);

            //    //Main Modal Content
            //    let mainModalContent = `
            //                               <div class="row align-items-center  h-100">
            //                                 <div class="col-xl-6 col-lg-12 col-md-12">
            //                                  <a href="javascript:void(0);">
            //                                   <div class="channel-logo" data-animation-in="fadeInLeft" data-delay-in="0.5">
            //                                    <img src="/Content/images/logo.png" class="c-logo" alt="InstaGames">
            //                                    </div>
            //                                   </a>

            //                                 <div class="d-flex flex-wrap align-items-center fadeInLeft animated" data-animation-in="fadeInLeft" style="opacity: 1;">
            //                                 <div class="slider-ratting d-flex align-items-center mr-4 mt-2 mt-md-3">
            //                                 <ul class="ratting-start p-0 m-0 list-inline text-primary d-flex align-items-center justify-content-left">
            //                                  ${DisplayRatingStars(game.Rating)}
            //                                 </ul>
            //                               ${CheckGameRating(game.Rating)}
            //                            </div>
            //                            <!--Rating Logic End -->

            //                            <div class="d-flex align-items-center mt-2 mt-md-3">
            //                                <span class="ml-3">Pegi &nbsp;</span>
            //                                <img src="${game.Pegi}" alt="Alternate Text" class="p-2 " width="50" />
            //                            </div>
            //                        </div>

            //                        <p data-animation-in="fadeInUp" data-delay-in="1.2">
            //                           ${game.Description}
            //                        </p>
            //                        <div class="trending-list" data-wp_object-in="fadeInUp" data-delay-in="1.2">
            //                            <div class="text-primary title starring">
            //                                Developed By:
            //                                <span class="text-body">
            //                                   ${game.Developer.map(d => `<text>${d.Name}&nbsp;</text>`).join("")}

            //                                </span>
            //                            </div>
            //                            <div class="text-primary title genres">
            //                                Categories:
            //                                <span class="text-body">
            //                                    ${game.Categories.map(c => `<text>${c.Type}&nbsp;</text>`).join("")}
            //                                </span>
            //                            </div>
            //                            <div class="text-primary title tag">

            //                                Tag: <span class="text-body">${game.Tag}</span>
            //                            </div>
            //                            <div class="text-primary title tag">

            //                                Released: <span class="text-body">${game.ReleaseDate}</span>
            //                            </div>
            //                        </div>
            //                        <div class="d-flex align-items-center r-mb-23" data-animation-in="fadeInUp" data-delay-in="1.2">
            //                            <a href="~/game/play/${game.GameId}" class="btn btn-hover iq-button">
            //                                <i class="fa fa-play mr-2"
            //                                   aria-hidden="true"></i>Play Now
            //                            </a>
            //                        </div>
            //                    </div>
            //                </div>
            //                               `;
            //    let mainModalEle = $(mainModalContent);
            //    $("#MainModalContent").html(mainModalEle);

            //    //More Like This template
            //    $.ajax({
            //        type: "GET",
            //        url: "https://localhost:44384/api/games/",
            //        dataType: "json",
            //        success: function (response) {
            //            response.forEach(MoreLikeThisTemplate);
            //        }
            //    });

            //    function MoreLikeThisTemplate(game) {
            //        let template = `
            //                          <div class="col-1-5 col-md-6 iq-mb-30">
            //                                <div class="epi-box">
            //                                    <div class="epi-img position-relative">
            //                                        <img src="${game.Photo}" class="img-fluid img-zoom" alt="">
            //                                        <div class="episode-number text-center">${game.Title}</div>
            //                                        <div class="episode-play-info">
            //                                            <div id="playBtn" class="episode-play">
            //                                                <a href="/game/play/${game.GameId}">
            //                                                    <i class="fa fa-play"></i>
            //                                                </a>
            //                                            </div>
            //                                        </div>
            //                                    </div>
            //                                    <div class="epi-desc p-3">
            //                                        <div class="d-flex align-items-center justify-content-between">
            //                                            <span class="text-white">${game.ReleaseDate}</span>
            //                                            <img src="${game.Pegi}" width="20" />
            //                                        </div>
            //                                        <a class="detailsView" href="#">
            //                                            <h6 class="epi-name text-white mb-0">
            //                                                ${game.Description}
            //                                            </h6>
            //                                        </a>
            //                                    </div>
            //                                </div>
            //                            </div>
            //                       `;

            //        let MoreLikeThisEle = $(template);
            //        $("#MoreLikeThis").append(MoreLikeThisEle);
            //    }
            //}

            ////Stars Logic
            //function DisplayRatingStars(Rating) {
            //    if (Rating > 0) {
            //        let temp = '';
            //        for (let i = 0; i < Rating; i++) {
            //            temp += '<li><i class="fa fa-star" aria-hidden="true"></i></li>';
            //        }
            //        return temp;
            //    }
            //}

            //function CheckGameRating(rating) {
            //    if (rating == 0) {
            //        return '<span class="text-white ml-2">Unrated</span>';
            //    } else {
            //        return `<span class="text-white ml-2">${rating
            //            }<small style="font-size: 10px">(User Score)</small></span>`;
            //    }
            //}


    </script>
}